{% extends 'base.html' %}

{% block content %}

<h1> Posts </h1>
{% if latest_posts_list %}
    <ul>
    {% for post in latest_posts_list %}
        <li>

            <a href="{% url 'posts:post_page' post.id %}">
            {{ post.post_title }}
            </a>

            by {{ post.user.first_name }} {{ post.user.last_name }}

            on {{ post.pub_date }}

            in <a href="{% url 'posts:category' post.category.name|slugify %}"> {{ post.category.name }} </a>

            {% if user.is_authenticated and user.id == post.user.id %}
                <small>(
                    <a href="{% url 'posts:edit_post' post.id %}"> Edit </a>
                    |
                    <a href="{% url 'posts:delete_post' post.id %}"> Delete </a>
                    )
                </small>
            {% endif %}

            <br/>
            {{ post.post_description|slice:":200"|safe }}

        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No posts are available.</p>
{% endif %}


{% endblock %}